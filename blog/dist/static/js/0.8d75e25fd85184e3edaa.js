webpackJsonp([0],{OQQf:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e={name:"Article",data:function(){return{}},created:function(){this.$route.params;console.log(this.$route.params)}},i={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"page-body container"},[a("ol",{staticClass:"breadcrumb"},[a("li",[a("router-link",{attrs:{to:"/"}},[t._v("文档专区")])],1),t._v(" "),a("li",{staticClass:"active"},[t._v("Promise")])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),a("div",{attrs:{id:"01"}}),t._v(" "),a("br"),a("br"),a("br"),t._v(" "),a("div",{staticClass:"panel panel-info"},[t._m(3),t._v(" "),a("div",{staticClass:"panel-body"},[t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),a("div",{staticClass:"code-board"},[a("table",[a("tr",[a("td",{staticStyle:{width:"670px"}},[t._m(7),t._v(" "),t._m(8),t._v(" "),a("div",[a("span",{staticStyle:{color:"#66D9EF"}},[t._v("ajax")]),a("font",{staticStyle:{color:"white"}},[t._v("("),a("span",{staticStyle:{color:"#E6DB74"}},[t._v('"/getUsers')]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v('"')]),t._v(","),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("function")]),t._v("(")]),a("font",{staticStyle:{color:"#FD8920"}},[t._v("data")]),a("font",{staticStyle:{color:"white"}},[t._v(") {")])],1),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),a("div",[a("span",{staticStyle:{color:"#66D9EF"}},[t._v("ajax")]),a("font",{staticStyle:{color:"white"}},[t._v("("),a("span",{staticStyle:{color:"#E6DB74"}},[t._v('"/resumelist"')]),t._v(", "),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("function")]),t._v("("),a("span",{staticStyle:{color:"#FD8920"}},[t._v("data")]),t._v(") {")])],1),t._v(" "),a("div",[a("font",{staticStyle:{color:"white"}},[t._v("})")])],1),t._v(" "),t._m(12)])])])]),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),a("h4",[t._v("\n\t\t\t  \t\t\t我们常见的异步操作例如：\n\t\t\t  \t\t")]),t._v(" "),t._m(15)])])])]),t._v(" "),a("div",{attrs:{id:"02"}}),t._v(" "),a("br"),a("br"),a("br"),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-info"},[t._m(16),t._v(" "),a("div",{staticClass:"panel-body"},[a("p",[t._v("比如我们现在有两个动画，需要按顺序来执行，也就是第一个结束，第二个才能开始")]),t._v(" "),a("p",[t._v("这个时候可能有点麻烦，传统的解决方法是通过回调：")]),t._v(" "),t._m(17),t._v(" "),a("p",[t._v("这种方案显然不太好，如果有很多异步操作需要顺序执行，就会产生所谓的“回调地狱”")]),t._v(" "),a("div",{staticClass:"code-board"},[a("table",[a("tr",[a("td",{staticStyle:{width:"420px"}},[t._m(18),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),a("div",[a("span",{staticStyle:{color:"#66D9EF"}},[t._v("                           ")]),a("span",{},[a("font",{staticStyle:{color:"white"}},[t._v("......")])],1),t._v(" "),a("span",{staticStyle:{color:"white"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("    ")])]),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),t._m(24),t._v(" "),t._m(25)])])])]),t._v(" "),a("p",[t._v("这种代码不管是写起来还是读起来都比较烦人。 我们来看下经过Promise改造后的样子（伪代码）")]),t._v(" "),a("div",{staticClass:"code-board"},[a("table",[a("tr",[a("td",{staticStyle:{width:"260px"}},[a("div",[t._m(26),a("span",{staticStyle:{color:"white"}},[t._v("(")]),a("span",{},[a("font",{staticStyle:{color:"white"}},[t._v("ajaxA")])],1),a("span",{staticStyle:{color:"white"}},[t._v(")")])]),t._v(" "),t._m(27),t._v(" "),t._m(28),t._v(" "),t._m(29)])])])])])])])]),t._v(" "),a("div",{attrs:{id:"03"}}),t._v(" "),a("br"),a("br"),a("br"),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"panel panel-info"},[t._m(30),t._v(" "),a("div",{staticClass:"panel-body"},[a("p",[t._v("要熟练Promise的的使用，你必须要先搞懂它解决问题的原理")]),t._v(" "),a("p",[t._v("贴一段实际的Promise代码，你来感受一下先：")]),t._v(" "),t._m(31),t._v(" "),t._m(32),t._v(" "),t._m(33),t._v(" "),t._m(34),t._v(" "),t._m(35),t._v(" "),t._m(36),t._v(" "),t._m(37),t._v(" "),t._m(38),t._v(" "),a("p",{staticClass:"text-muted answers"},[t._v("\n\t\t\t\t\t\t这其实就是在通知Promise，当前这个函数结束啦，你可以开始执行下一个。 这时Promise就会去执行then里面的函数了。\n\t\t\t\t\t")]),t._v(" "),t._m(39),t._v(" "),a("p",{staticClass:"text-muted answers"},[t._v("\n\t\t\t\t\t\tBingo!! 恭喜你已经学会了逻辑推理+抢答。\n\t\t\t\t\t")]),t._v(" "),t._m(40),t._v(" "),a("p",{staticClass:"text-muted answers"},[t._v("\n\t\t\t\t\t\t你得先弄明白Promise的基本结构\n\t\t\t\t\t")]),t._v(" "),t._m(41),t._v(" "),a("p",{staticClass:"text-muted answers"},[t._v("\n\t\t\t\t\t\t我们把函数1和函数2都以参数形式传给了一个Promise对象，所以接下来函数1和2都会由这个Promise对象控制，\n\t\t\t\t\t\t简单的说，函数1和函数2都会由Promise对象来执行。\n\t\t\t\t\t\t所以在函数1执行时，参数也当然是由Promise对象传递进去的。\n\t\t\t\t\t")]),t._v(" "),t._m(42),t._v(" "),t._m(43),t._v(" "),a("p",{staticClass:"text-muted answers"},[t._v("\n\t\t\t\t\t\t你说呢？\n\t\t\t\t\t")]),t._v(" "),t._m(44),t._v(" "),a("p",{staticClass:"text-muted answers"},[t._v("\n\t\t\t\t\t\t真是猪脑子，刚才不是已经说了吗？ Promise对象没办法知道我们的异步函数啥时候结束。那我来问你，\n\t\t\t\t\t\t如果你去车站接人，可是你又不知道对方何时下车，你会咋办？\n\t\t\t\t\t")]),t._v(" "),t._m(45),t._v(" "),t._m(46),t._v(" "),t._m(47),t._v(" "),t._m(48),t._v(" "),a("p",{staticClass:"text-muted answers"},[t._v("\n\t\t\t\t\t\t完全正确\n\t\t\t\t\t")]),t._v(" "),t._m(49),t._v(" "),a("p",{staticClass:"text-muted answers"},[t._v("\n\t\t\t\t\t\t基本是这样的，但Promise带来的编码方式以及异步编程思路上的进步是非常巨大的。\n\t\t\t\t\t")]),t._v(" "),t._m(50),t._v(" "),a("p",{staticClass:"text-muted answers"},[t._v("\n\t\t\t\t\t\t不行\n\t\t\t\t\t")]),t._v(" "),t._m(51),t._v(" "),a("p",{staticClass:"text-muted answers"},[t._v("\n\t\t\t\t\t\t那你说\n\t\t\t\t\t")]),t._v(" "),t._m(52),t._v(" "),t._m(53),t._v(" "),a("p",{staticClass:"text-muted answers"},[t._v("\n\t\t\t\t\t\t上面的这种写法是不对的。 Promise的中文含义是“承诺”，则意味着，每一个Pormise对象，代表一次承诺\n\t\t\t\t\t")]),t._v(" "),a("p",{staticClass:"text-muted answers"},[t._v("\n\t\t\t\t\t\t而每一次承诺，只能保证一个任务的顺序，也就是说\n\t\t\t\t\t")]),t._v(" "),t._m(54),t._v(" "),t._m(55),t._v(" "),a("p",{staticClass:"text-muted answers"},[t._v("\n\t\t\t\t\t\t那如果还有C呢？  我们就必须在函数B中，重新创建新的Promise对象，来完成下一个承诺，具体的写法就像这样：\n\t\t\t\t\t")]),t._v(" "),a("div",{staticClass:"code-board"},[a("table",[a("tr",[a("td",{staticStyle:{width:"813px"}},[t._m(56),t._v(" "),t._m(57),t._v(" "),a("div",[t._v("\n\t\t\t\t\t\t\t\t\t            \n\t\t\t\t\t\t\t\t\t"),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("resolve();")]),a("font",{staticStyle:{color:"#807B66"}},[t._v("//通知Promise该任务结束")])],1),t._v(" "),t._m(58),t._v(" "),t._m(59),t._v(" "),a("div",[t._v("\n\t\t\t\t\t\t\t\t\t      "),a("font",{attrs:{color:"#807B66"}},[t._v("//在函数2开始运行后，第一次创建的Promise对象完成使命，已经不能再继续工作。")])],1),t._v(" "),a("div",[t._v("\n\t\t\t\t\t\t\t\t\t      "),a("font",{attrs:{color:"#807B66"}},[t._v("//此时，我们创建并返回了新的Promise对象")])],1),t._v(" "),t._m(60),t._v(" "),t._m(61),t._v(" "),a("div",[t._v("\n\t\t\t\t\t\t\t\t\t                  \n\t\t\t\t\t\t\t\t\t"),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("resolve();")]),a("font",{staticStyle:{color:"#807B66"}},[t._v("//通知新的Promise对象该任务结束")])],1),t._v(" "),t._m(62),t._v(" "),t._m(63),t._v(" "),a("div",[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("}).")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("then")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("函数3")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(){")]),t._v(" "),a("span",[a("font",{attrs:{color:"#807B66"}},[t._v("//尽管这里使用了链式调用，但负责执行函数3的，已经是新的Promise对象了")])],1)]),t._v(" "),t._m(64),t._v(" "),a("div",[t._v("\n\t\t\t\t\t\t\t\t\t      \n\t\t\t\t\t\t\t\t\t"),a("font",{staticStyle:{color:"#807B66"}},[t._v("// 如果，我们还有ajaxD需要顺序调用")])],1),t._v(" "),a("div",[a("span",[t._v("\n\t\t\t\t\t\t\t\t\t\t      \n\t\t\t\t\t\t\t\t\t\t"),a("font",{staticStyle:{color:"#807B66"}},[t._v("// 那就必须在这里重新new Promise()对象了")])],1)]),t._v(" "),t._m(65),t._v(" "),t._m(66)])])])]),t._v(" "),t._m(67),t._v(" "),t._m(68),t._v(" "),t._m(69),t._v(" "),t._m(70),t._v(" "),t._m(71),t._v(" "),t._m(72)])])])]),t._v(" "),t._m(73)])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"jumbotron"},[s("p",[s("span",[this._v("\n\t\t\t  \t\t\tPromise异步编程\n\t\t\t  \t\t")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"panel panel-default"},[s("div",{staticClass:"panel-heading"},[s("code",[this._v("注意：")]),this._v(" "),s("code",[this._v("\n\t\t\t\t    \t这篇文章的目的是让你用最快的速度理解Promise的核心思想和基本用法，想要了解更多细节全面的使用方式，请阅读官方API\n\t\t\t\t    ")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"panel panel-default"},[s("div",{staticClass:"panel-heading"},[s("code",[this._v("另外：")]),this._v(" "),s("code",[this._v("\n\t\t\t\t    \t这篇文章假定你具备最基本的异步编程知识，例如知道什么是回调，知道什么是链式调用，同时具备最基本的单词量，例如page、user、promise、then、resovle、reject、pay、fix、order等等，如果你对这些单词非常陌生，那么你需要先花点时间补充一下你的英语，否则你仍然会感觉这篇文章难以理解。（参考我在表达能力训练视频中讲解的信息不对称原理）\n\t\t\t\t    ")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"panel-heading"},[s("h2",[this._v("什么是异步操作？")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",[this._v("\n\t\t\t  \t\t\t所谓异步操作，指的是可以跟当前程序同时执行的操作。"),s("b",[this._v("举例:")]),this._v(" "),s("p")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"code-board"},[a("table",[a("tr",[a("td",{attrs:{width:"670"}},[a("div",[a("span",{staticStyle:{color:"#F92672"}},[t._v("$")]),a("span",{staticStyle:{color:"white"}},[t._v("(")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v('"#page"')]),a("span",{staticStyle:{color:"white"}},[t._v(").")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("scrolltop")]),a("span",{staticStyle:{color:"white"}},[t._v("(")]),a("span",{staticStyle:{color:"#9D81FF"}},[t._v("0")]),t._v(" "),a("span",{staticStyle:{color:"white"}},[t._v(",")]),a("span",{staticStyle:{color:"#9D81FF"}},[t._v("1000")]),a("span",{staticStyle:{color:"white"}},[t._v(");    ")]),a("span",{staticStyle:{color:"#75715E"}},[t._v("//使用1秒钟时间将页面滚动至顶部")])]),t._v(" "),a("div",[a("br")]),t._v(" "),a("div",[a("span",{staticStyle:{color:"#F92672"}},[t._v("$")]),a("span",{staticStyle:{color:"white"}},[t._v("(")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v('"#nav-float"')]),a("span",{staticStyle:{color:"white"}},[t._v(").")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("hide")]),t._v(" "),a("span",{staticStyle:{color:"white"}},[t._v("(")]),a("span",{staticStyle:{color:"#9D81FF"}},[t._v("1000")]),a("span",{staticStyle:{color:"white"}},[t._v(");    "),a("span",{staticStyle:{color:"#75715E"}},[t._v("//使用1秒钟时间将悬浮导航栏隐藏")])])])])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",[s("p",[this._v("\n\t\t\t\t\t\t\t只要你稍微有点异步编程经验，就应该知道，这两个方法会同时完成。\n\t\t\t\t\t\t")]),this._v(" "),s("p",[this._v("\n\t\t\t\t\t\t\t它们的编写顺序并不会影响它们的执行顺序\n\t\t\t\t\t\t")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("span",{staticStyle:{color:"#75715E"}},[this._v("//异步操作的特点就是，不会打断当前程序的执行")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("span",{staticStyle:{color:"#75715E"}},[this._v("//getUsers请求发出后，会立刻向下继续执行第二个请求")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",[this._v("      "),s("span",{staticStyle:{color:"#75715E"}},[this._v("//回掉函数会在请求成功后调用")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("span",{staticStyle:{color:"white"}},[this._v("})")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("span",{staticStyle:{color:"#75715E"}},[this._v("//resumelist请求会立刻开始，无论getUsers是否结束")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("span",{staticStyle:{color:"#75715E"}},[this._v("//至于哪一个ajax先返回结果并执行回调函数，从代码的编写顺序上是无法确定的。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",[s("p",[this._v("\n\t\t\t\t\t\t\t我们可以给异步操作做一个简单的定义\n\t\t\t\t\t\t")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"panel panel-success"},[s("div",{staticClass:"panel-heading"},[this._v("\n\t\t\t\t\t\t\t当一个操作开始执行后，主程序无需等待它的完成，可以继续向下执行。此时该操作可以跟主程序同时（并发）执行。这种操作我们就称之为"),s("b",[this._v("异步操作")]),this._v("。\n\t\t\t\t\t\t\t通常当操作完成时，会执行一个我们事先设定好的回调函数来做后续的处理。\n\t\t\t\t\t\t")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"btn-group"},[s("button",{staticClass:"btn btn-default"},[this._v("添加定时器 setTimeout/setInterval")]),this._v(" "),s("button",{staticClass:"btn btn-default"},[this._v("执行某个动画 animate")]),this._v(" "),s("button",{staticClass:"btn btn-default"},[this._v("发起网络请求 request")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"panel-heading"},[s("h2",[this._v("异步会带来什么问题？")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"code-board"},[a("table",[a("tr",[a("td",{staticStyle:{width:"260px"}},[a("div",[a("span",{staticStyle:{color:"#66D9EF"}},[t._v("animateA")]),a("span",{staticStyle:{color:"white"}},[t._v("(")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("function")]),a("span",{staticStyle:{color:"white"}},[t._v("( ){")])]),t._v(" "),a("div",[a("span",{staticStyle:{color:"#66D9EF"}},[t._v("      animateB")]),a("span",{staticStyle:{color:"white"}},[t._v("(")]),t._v(" "),a("span",{staticStyle:{color:"white"}},[t._v(");")]),a("span",{staticStyle:{color:"white"}},[t._v(" ")]),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("    ")])]),t._v(" "),a("div",[a("span",{staticStyle:{color:"white"}},[t._v("})  ")]),t._v(" "),a("span",{staticStyle:{color:"#66D9EF"}},[t._v("  ")]),t._v(" "),a("span",{staticStyle:{color:"white"}},[t._v(" ")])])])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("span",{staticStyle:{color:"#66D9EF"}},[this._v("ajaxA")]),s("span",{staticStyle:{color:"white"}},[this._v("(")]),s("span",{staticStyle:{color:"#66D9EF"}},[this._v("function")]),s("span",{staticStyle:{color:"white"}},[this._v("( ){")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("span",{staticStyle:{color:"#66D9EF"}},[this._v("      ajaxB")]),s("span",{staticStyle:{color:"white"}},[this._v("("),s("span",{staticStyle:{color:"#66D9EF"}},[this._v("function")]),s("span",{staticStyle:{color:"white"}},[this._v("( ){")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("span",{staticStyle:{color:"#66D9EF"}},[this._v("             ajaxC")]),s("span",{staticStyle:{color:"white"}},[this._v("("),s("span",{staticStyle:{color:"#66D9EF"}},[this._v("function")]),s("span",{staticStyle:{color:"white"}},[this._v("( ){")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("span",{staticStyle:{color:"#66D9EF"}},[this._v("                    ajaxD")]),s("span",{staticStyle:{color:"white"}},[this._v("("),s("span",{staticStyle:{color:"#66D9EF"}},[this._v("function")]),s("span",{staticStyle:{color:"white"}},[this._v("( ){")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",[this._v("\n\t\t\t\t\t\t\t\t\t                   \n\t\t\t\t\t\t\t\t\t"),s("span",{staticStyle:{color:"white"}},[this._v("});")]),this._v("     \n\t\t\t\t\t\t\t\t")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",[this._v("\n\t\t\t\t\t\t\t\t\t             "),s("span",{staticStyle:{color:"white"}},[this._v("});")]),this._v("     \n\t\t\t\t\t\t\t\t")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",[this._v("\n\t\t\t\t\t\t\t\t\t     "),s("span",{staticStyle:{color:"white"}},[this._v(" });")]),this._v("     \n\t\t\t\t\t\t\t\t")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("span",{staticStyle:{color:"white"}},[this._v("})")]),this._v("     \n\t\t\t\t\t\t\t\t")])},function(){var t=this.$createElement,s=this._self._c||t;return s("span",{staticStyle:{color:"#66D9EF"}},[s("span",{staticStyle:{color:"#F92672"}},[this._v("new")]),this._v(" Promise")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("span",{staticStyle:{color:"white"}},[this._v("        .")]),s("span",{staticStyle:{color:"#66D9EF"}},[this._v("then")]),s("span",{staticStyle:{color:"white"}},[this._v("("),s("span",{staticStyle:{color:"white"}},[this._v("ajaxB")])]),s("span",{staticStyle:{color:"white"}},[this._v(")")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("span",{staticStyle:{color:"white"}},[this._v("        .")]),s("span",{staticStyle:{color:"#66D9EF"}},[this._v("then")]),s("span",{staticStyle:{color:"white"}},[this._v("("),s("span",{staticStyle:{color:"white"}},[this._v("ajaxC")])]),s("span",{staticStyle:{color:"white"}},[this._v(")")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("span",{staticStyle:{color:"white"}},[this._v("        .")]),s("span",{staticStyle:{color:"#66D9EF"}},[this._v("then")]),s("span",{staticStyle:{color:"white"}},[this._v("("),s("span",{staticStyle:{color:"white"}},[this._v("ajaxD")])]),s("span",{staticStyle:{color:"white"}},[this._v(");")]),s("span",{staticStyle:{color:"white"}},[this._v(" ")]),s("span",{staticStyle:{color:"#66D9EF"}},[this._v("    ")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"panel-heading"},[s("h2",[this._v("Promise的使用及原理")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"code-board"},[a("table",[a("tr",[a("td",{staticStyle:{width:"500px"}},[a("div",[a("span",{staticStyle:{color:"#F92672"}},[t._v("new")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("Promise(resolve")]),a("span",{staticStyle:{color:"#F92672"}},[t._v("=>")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("{")])]),t._v(" "),a("div",[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("      ajax(")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v('"/pay/post"')]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(", data")]),a("span",{staticStyle:{color:"#F92672"}},[t._v("=>")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("resolve() );")])]),t._v(" "),a("div",[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("}).then(resolve")]),a("span",{staticStyle:{color:"#F92672"}},[t._v("=>")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("{")])]),t._v(" "),a("div",[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("      ajax(")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v('"/order/fix"')]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(", data")]),a("span",{staticStyle:{color:"#F92672"}},[t._v("=>")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("{")])]),t._v(" "),a("div",[t._v("\n\t\t\t\t\t\t\t\t\t\t            "),a("span",{staticStyle:{color:"#75715E"}},[t._v("//处理数据   ")])]),t._v(" "),a("div",[t._v("\n\t\t\t\t\t\t\t\t\t\t      "),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("})")])]),t._v(" "),a("div",[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("})")])])])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("上面的代码使用了"),s("code",[this._v("ES6")]),this._v("的"),s("code",[this._v("箭头函数")]),this._v(",虽然大大简化了代码的写法，但对于初级程序猿来讲极不友好")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("读这种代码简直跟读金刚经差不多。我们把代码还原成"),s("code",[this._v("ES5")]),this._v("的样子")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"code-board"},[a("table",[a("tr",[a("td",{staticStyle:{width:"500px"}},[a("div",[a("span",{staticStyle:{color:"#F92672"}},[t._v("new")]),t._v(" "),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("Promise")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(")]),a("span",{staticClass:"itlc",staticStyle:{color:"#66D9EF"}},[t._v("function")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(")]),a("span",{staticClass:"itlc",staticStyle:{color:"rgb(253, 151, 31)"}},[t._v("resolve")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("){")])]),t._v(" "),a("div",[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("      ajax(")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v('"/pay/post"')]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(",")]),a("span",{staticClass:"itlc",staticStyle:{color:"#66D9EF"}},[t._v("function")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(")]),a("span",{staticClass:"itlc",staticStyle:{color:"rgb(253, 151, 31)"}},[t._v("data")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("){")])]),t._v(" "),a("div",[t._v("\n\t\t\t\t\t\t\t\t\t\t            "),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("resolve();")])]),t._v(" "),a("div",[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("      })")])]),t._v(" "),a("div",[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("}).")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("then")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(")]),a("span",{staticClass:"itlc",staticStyle:{color:"#66D9EF"}},[t._v("function")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("){")])]),t._v(" "),a("div",[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("      ajax(")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v('"/order/fix"')]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(",")]),a("span",{staticClass:"itlc",staticStyle:{color:"#66D9EF"}},[t._v("function")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(")]),a("span",{staticClass:"itlc",staticStyle:{color:"rgb(253, 151, 31)"}},[t._v("data")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("){")])]),t._v(" "),a("div",[t._v("\n\t\t\t\t\t\t\t\t\t\t            \n\t\t\t\t\t\t\t\t\t")]),t._v(" "),a("div",[t._v("\n\t\t\t\t\t\t\t\t\t\t      "),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("})")])]),t._v(" "),a("div",[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("})")])])])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",[s("p",{staticClass:"text-danger"},[this._v("接下来，我们就按照费曼技巧来一步步的学习Promise是如何解决问题的")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",{staticClass:"text-warning"},[s("b",[s("code",[this._v("问题1")]),this._v(", 作为一个异步函数，尤其像ajax这种网络请求，连我自己都不能确定函数的执行时间，Promise是怎么知道第一个函数什么时候结束的？ 然后再开始执行下一个？\n\t\t\t\t\t\t")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",{staticClass:"text-muted answers"},[this._v("\n\t\t\t\t\t\tPromise并没有那么神奇，它并不能知道我们的函数什么时候结束，你注意到上面代码中的第"),s("code",[this._v("3")]),this._v("行了吗\n\t\t\t\t\t")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",{staticClass:"text-muted answers"},[this._v("\n\t\t\t\t\t\t在ajax请求结束执行回调的时候，我们调用了一个"),s("code",[this._v("resolve()")]),this._v("函数，这句代码非常的关键.\n\t\t\t\t\t")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",{staticClass:"text-warning"},[s("b",[s("code",[this._v("问题2")]),this._v(", 所以按照你的意思，如果我不调用这个方法，Promise就不知道这个函数有没有结束，那么then里面的函数就不会执行，也就是说我的第二个请求就永远不会发送了呗？\n\t\t\t\t\t\t")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",{staticClass:"text-warning"},[s("b",[s("code",[this._v("问题3")]),this._v(", 可是这个"),s("code",[this._v("resolve")]),this._v("函数是从哪来的？ 需要我自己定义吗？ 从代码上看它好像是个参数，那又是谁传入函数中的？\n\t\t\t\t\t\t")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"code-board"},[s("table",[s("tr",[s("td",{staticStyle:{width:"500px"}},[s("div",[s("span",{staticStyle:{color:"#F92672"}},[this._v("new")]),this._v(" "),s("span",{staticStyle:{color:"#F8F8F2"}},[this._v("Promise(函数1).then(函数2);")])])])])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"code-board"},[a("table",[a("tr",[a("td",{staticStyle:{width:"500px"}},[a("div",[a("span",{staticStyle:{color:"#F92672"}},[t._v("new")]),t._v(" "),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("Promise")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(")]),a("span",{staticClass:"itlc",staticStyle:{color:"#66D9EF"}},[t._v("function")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(")]),a("span",{staticClass:"itlc",staticStyle:{color:"rgb(253, 151, 31)"}},[t._v("resolve")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("){")])]),t._v(" "),a("div",[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("      ")]),t._v(" "),a("span",{staticStyle:{color:"#75715E"}},[t._v("//resolve是Promise对象在调用函数时传入的参数")])]),t._v(" "),a("div",[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("}).then(函数2);")])])])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",{staticClass:"text-warning"},[s("b",[s("code",[this._v("问题4")]),this._v(", Promise对象为啥要在执行第1个任务的时候，把这个"),s("code",[this._v("resolve")]),this._v("函数\n\t\t\t\t\t\t\t传进来，有什么目的？\n\t\t\t\t\t\t")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",{staticClass:"text-warning"},[s("b",[this._v("\n\t\t\t\t\t\t\t废屁，知道还用问你？\n\t\t\t\t\t\t")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",{staticClass:"text-warning"},[s("b",[this._v("\n\t\t\t\t\t\t\t把我电话号码给他，快到了打我电话呗\n\t\t\t\t\t\t")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",{staticClass:"text-muted answers"},[this._v("\n\t\t\t\t\t\t没错，Promise解决问题也采用了同样的思路。它传进来的"),s("code",[this._v("resolve")]),this._v("函数，\n\t\t\t\t\t\t就好像一个对讲机，当我们的异步任务要结束时，通过对讲机\n\t\t\t\t\t\t来通知Promise对象。也就是调用"),s("code",[this._v("resolve")]),this._v("方法\n\t\t\t\t\t")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"code-board"},[a("table",[a("tr",[a("td",{staticStyle:{width:"813px"}},[a("div",[a("span",{staticStyle:{color:"#F92672"}},[t._v("new")]),t._v(" "),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("Promise")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(")]),a("span",{staticClass:"itlc",staticStyle:{color:"#66D9EF"}},[t._v("function")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(")]),a("span",{staticClass:"itlc",staticStyle:{color:"rgb(253, 151, 31)"}},[t._v("resolve")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("){")])]),t._v(" "),a("div",[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("      ajax(")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v('"/pay/post"')]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(",")]),a("span",{staticClass:"itlc",staticStyle:{color:"#66D9EF"}},[t._v("function")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(")]),a("span",{staticClass:"itlc",staticStyle:{color:"rgb(253, 151, 31)"}},[t._v("data")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("){")])]),t._v(" "),a("div",[t._v("\n\t\t\t\t\t\t\t\t\t\t            "),a("span",{staticStyle:{color:"#75715E"}},[t._v("//当请求结束时，通过调用resolve方法，通知Promise对象，该任务已完成")])]),t._v(" "),a("div",[t._v("\n\t\t\t\t\t\t\t\t\t\t           \n\t\t\t\t\t\t\t\t\t\t"),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("resolve();")])]),t._v(" "),a("div",[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("           ")]),t._v(" "),a("span",{staticStyle:{color:"#75715E"}},[t._v("//收到通知后，Promise会立刻开始函数2的执行")])]),t._v(" "),a("div",[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("      })")])]),t._v(" "),a("div",[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("}).then(函数2);")])])])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",{staticClass:"text-warning"},[s("b",[this._v("\n\t\t\t\t\t\t\t懂了，所以这个resolve函数，必须在异步任务的最后调用(例如ajax的回调方法)，相当于告诉Promise对象，该任务结束，请开始下一个。\n\t\t\t\t\t\t")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",{staticClass:"text-warning"},[s("b",[s("code",[this._v("问题5")]),this._v(", 所以Promise也不过如此嘛，它没有带来什么功能上的革命性变化，\n\t\t\t\t\t\t\t因为使用传统的回调嵌套的方式，同样可以完成效果。 \n\t\t\t\t\t\t\t说白了它就是编码方式上的改进？？\n\t\t\t\t\t\t")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",{staticClass:"text-warning"},[s("b",[s("code",[this._v("问题6")]),this._v(", 那如果我有ajaxA、ajaxB、ajaxC三个异步任务，想按照先A后B再C的顺序执行，像这样写行吗？ \n\t\t\t\t\t\t")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",{staticClass:"text-warning"},[s("b",[this._v("\n\t\t\t\t\t\t\t靠！ 我还没说呢！\n\t\t\t\t\t\t")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",{staticClass:"text-warning"},[s("b",[this._v("如果我这样写呢？")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"code-board"},[a("table",[a("tr",[a("td",{staticStyle:{width:"813px"}},[a("div",[a("span",{staticStyle:{color:"#F92672"}},[t._v("new")]),t._v(" "),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("Promise")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(")]),a("span",{staticClass:"itlc",staticStyle:{color:"#66D9EF"}},[t._v("function")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(")]),a("span",{staticClass:"itlc",staticStyle:{color:"rgb(253, 151, 31)"}},[t._v("resolve")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("){")])]),t._v(" "),a("div",[t._v("\n\t\t\t\t\t\t\t\t\t      "),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("ajax(")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v('"/AAA"')]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(",")]),t._v(" "),a("span",{staticClass:"itlc",staticStyle:{color:"#66D9EF"}},[t._v("function")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(){")])]),t._v(" "),a("div",[t._v("\n\t\t\t\t\t\t\t\t\t            "),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("resolve();")]),t._v(" "),a("span",{staticStyle:{color:"#75715E"}},[t._v("//通知Promise该任务结束")])]),t._v(" "),a("div",[t._v("\n\t\t\t\t\t\t\t\t\t      "),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("})    ")])]),t._v(" "),a("div",[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("}).")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("then")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(")]),a("span",{staticClass:"itlc",staticStyle:{color:"#66D9EF"}},[t._v("function")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(")]),a("span",{staticClass:"itlc",staticStyle:{color:"rgb(253, 151, 31)"}},[t._v("resolve")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("){")])]),t._v(" "),a("div",[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("      ajax(")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v('"/BBB"')]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(",")]),t._v(" "),a("span",{staticClass:"itlc",staticStyle:{color:"#66D9EF"}},[t._v("function")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(){")])]),t._v(" "),a("div",[t._v("\n\t\t\t\t\t\t\t\t\t            "),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("resolve();")]),a("span",{staticStyle:{color:"#75715E"}},[t._v("//通知Promise该任务结束")])]),t._v(" "),a("div",[t._v("\n\t\t\t\t\t\t\t\t\t      "),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("})")])]),t._v(" "),a("div",[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("}).")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("then")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(")]),a("span",{staticClass:"itlc",staticStyle:{color:"#66D9EF"}},[t._v("function")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(){")])]),t._v(" "),a("div",[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("      ajax(")]),a("span",{staticStyle:{color:"#E6DB74"}},[t._v('"/CCC"')]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(",")]),t._v(" "),a("span",{staticClass:"itlc",staticStyle:{color:"#66D9EF"}},[t._v("function")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(){")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(" "),a("span",{staticStyle:{color:"#75715E"}},[t._v("//....")]),t._v(" })\n\t\t\t\t\t\t\t\t\t")])]),t._v(" "),a("div",[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("})    ")])])])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",{staticClass:"text-muted answers"},[s("code",[this._v("new Promise(A).then(B); ")]),this._v(" 这句话表示， 只能保证"),s("code",[this._v("A")]),this._v("和"),s("code",[this._v("B")]),this._v("的顺序。\n\t\t\t\t\t")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",{staticClass:"text-muted answers"},[this._v("\n\t\t\t\t\t \t一旦"),s("code",[this._v("A")]),this._v("执行完，"),s("code",[this._v("B")]),this._v("开始后，这次承诺也就兑现了，Promise对象也就失效了\n\t\t\t\t\t")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("span",{staticStyle:{color:"#F92672"}},[this._v("new")]),this._v(" "),s("span",{staticStyle:{color:"#A6E22E"}},[this._v("Promise")]),s("span",{staticStyle:{color:"#F8F8F2"}},[this._v("(")]),s("span",{staticStyle:{color:"#A6E22E"}},[this._v("函数1")]),s("span",{staticStyle:{color:"#F8F8F2"}},[this._v("(resolve){")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("span",{staticStyle:{color:"#F8F8F2"}},[this._v("      ajaxA(")]),s("span",{staticStyle:{color:"#E6DB74"}},[this._v('"xxxx"')]),s("span",{staticStyle:{color:"#F8F8F2"}},[this._v(",")]),this._v(" "),s("span",{staticClass:"itlc",staticStyle:{color:"#66D9EF"}},[this._v("function")]),s("span",{staticStyle:{color:"#F8F8F2"}},[this._v("(){")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",[this._v("\n\t\t\t\t\t\t\t\t\t      "),s("span",{staticStyle:{color:"#F8F8F2"}},[this._v("})    ")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("span",{staticStyle:{color:"#F8F8F2"}},[this._v("}).")]),s("span",{staticStyle:{color:"#A6E22E"}},[this._v("then")]),s("span",{staticStyle:{color:"#F8F8F2"}},[this._v("(")]),s("span",{staticStyle:{color:"#A6E22E"}},[this._v("函数2")]),s("span",{staticStyle:{color:"#F8F8F2"}},[this._v("(){")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[t._v("\n\t\t\t\t\t\t\t\t\t      "),a("span",{staticStyle:{color:"#F92672"}},[t._v("return new")]),t._v(" "),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("Promise")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(")]),a("span",{staticClass:"itlc",staticStyle:{color:"#66D9EF"}},[t._v("function")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(")]),a("span",{staticClass:"itlc",staticStyle:{color:"rgb(253, 151, 31)"}},[t._v("resolve")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("){")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",[this._v("\n\t\t\t\t\t\t\t\t\t            \n\t\t\t\t\t\t\t\t\t"),s("span",{staticStyle:{color:"#F8F8F2"}},[this._v("ajaxB(")]),s("span",{staticStyle:{color:"#E6DB74"}},[this._v('"xxxx"')]),s("span",{staticStyle:{color:"#F8F8F2"}},[this._v(",")]),this._v(" "),s("span",{staticClass:"itlc",staticStyle:{color:"#66D9EF"}},[this._v("function")]),s("span",{staticStyle:{color:"#F8F8F2"}},[this._v("(){")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",[this._v("\n\t\t\t\t\t\t\t\t\t            "),s("span",{staticStyle:{color:"#F8F8F2"}},[this._v("})    ")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("span",{staticStyle:{color:"#F8F8F2"}},[this._v("      })")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("span",[this._v("      ")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",[this._v("\n\t\t\t\t\t\t\t\t\t      "),s("span",{staticStyle:{color:"#F8F8F2"}},[this._v("ajaxC(")]),s("span",{staticStyle:{color:"#E6DB74"}},[this._v('"xxx"')]),s("span",{staticStyle:{color:"#F8F8F2"}},[this._v(",")]),this._v(" "),s("span",{staticClass:"itlc",staticStyle:{color:"#66D9EF"}},[this._v("function")]),s("span",{staticStyle:{color:"#F8F8F2"}},[this._v("(){     })")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("span",{staticStyle:{color:"#F8F8F2"}},[this._v("})    ")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",{staticClass:"text-warning"},[s("b",[s("code",[this._v("问题7")]),this._v(", 懂了，那Promise还有什么其它强大的功能吗？\n\t\t\t\t\t\t")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",{staticClass:"text-muted answers"},[this._v("\n\t\t\t\t\t\t有啊，例如： 如果我有 "),s("code",[this._v("A")]),this._v(","),s("code",[this._v("B")]),this._v(","),s("code",[this._v("C")]),this._v(" 三个异步任务，ABC同时开始执行\n\t\t\t\t\t")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",{staticClass:"text-muted answers"},[this._v("\n\t\t\t\t\t\t当"),s("code",[this._v("A")]),this._v(","),s("code",[this._v("B")]),this._v(","),s("code",[this._v("C")]),this._v("三个任务全部都结束时，执任务D，传统方法实现起来就比较复杂，Promise就非常简单，就像这样：\n\t\t\t\t\t")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"code-board"},[a("table",[a("tr",[a("td",{staticStyle:{width:"813px"}},[a("div",[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("Promise.")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("all")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(")]),a("span",{staticClass:"itlc",staticStyle:{color:"#66D9EF"}},[t._v("function")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(){  ")])]),a("div",[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("    ")]),t._v(" "),a("span",{staticStyle:{color:"#F92672"}},[t._v("return")]),t._v(" "),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("[")]),a("span",{staticStyle:{color:"#F92672"}},[t._v("new")]),t._v(" "),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("Promise(")]),a("span",{staticStyle:{color:"#AE81FF"}},[t._v("A")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("),")]),t._v(" "),a("span",{staticStyle:{color:"#F92672"}},[t._v("new")]),t._v(" "),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("Promise(")]),a("span",{staticStyle:{color:"#AE81FF"}},[t._v("B")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("),")]),t._v(" "),a("span",{staticStyle:{color:"#F92672"}},[t._v("new")]),t._v(" "),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("Promise(")]),a("span",{staticStyle:{color:"#AE81FF"}},[t._v("C")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(")];")])]),a("div",[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("}).")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("then")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(")]),a("span",{staticClass:"itlc",staticStyle:{color:"#66D9EF"}},[t._v("function")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(){")])]),a("div",[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("    ")]),t._v(" "),a("span",{staticStyle:{color:"#AE81FF"}},[t._v("D")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("();")])]),a("div",[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("});")])])])])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",{staticClass:"text-warning"},[a("b",[a("code",[t._v("问题8")]),t._v(", 那如果我希望"),a("code",[t._v("A")]),t._v(","),a("code",[t._v("B")]),t._v(","),a("code",[t._v("C")]),t._v(" 其中任意一个任务完成，就马上开始任务D，该怎么做？\n\t\t\t\t\t\t")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"code-board"},[a("table",[a("tr",[a("td",{staticStyle:{width:"813px"}},[a("div",[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("Promise.")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("race")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(")]),a("span",{staticClass:"itlc",staticStyle:{color:"#66D9EF"}},[t._v("function")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(){  ")])]),a("div",[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("    ")]),t._v(" "),a("span",{staticStyle:{color:"#F92672"}},[t._v("return")]),t._v(" "),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("[")]),a("span",{staticStyle:{color:"#F92672"}},[t._v("new")]),t._v(" "),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("Promise(")]),a("span",{staticStyle:{color:"#AE81FF"}},[t._v("A")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("),")]),t._v(" "),a("span",{staticStyle:{color:"#F92672"}},[t._v("new")]),t._v(" "),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("Promise(")]),a("span",{staticStyle:{color:"#AE81FF"}},[t._v("B")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("),")]),t._v(" "),a("span",{staticStyle:{color:"#F92672"}},[t._v("new")]),t._v(" "),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("Promise(")]),a("span",{staticStyle:{color:"#AE81FF"}},[t._v("C")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v(")];")])]),a("div",[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("}).")]),a("span",{staticStyle:{color:"#A6E22E"}},[t._v("then")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(")]),a("span",{staticClass:"itlc",staticStyle:{color:"#66D9EF"}},[t._v("function")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("(){")])]),a("div",[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("    ")]),t._v(" "),a("span",{staticStyle:{color:"#AE81FF"}},[t._v("D")]),a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("();")])]),a("div",[a("span",{staticStyle:{color:"#F8F8F2"}},[t._v("});")])])])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",[s("p",{staticClass:"text-success"},[this._v("恭喜你，在这么短的时间内学会了Promise")])])}]};var c=a("VU/8")(e,i,!1,function(t){a("WO6s")},"data-v-a6d34634",null);s.default=c.exports},WO6s:function(t,s){}});
//# sourceMappingURL=0.8d75e25fd85184e3edaa.js.map